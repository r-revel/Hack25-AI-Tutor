{
  "title": "Генерация изображений с ComfyUI на основе Notebooks",
  "chapters": [
    {
      "name": "Генерация изображений с ComfyUI на основе Notebooks",
      "content": "Практические руководства Evolution    \n\n # Генерация изображений с ComfyUI на основе Notebooks   Эта статья полезна?          \nС помощью этого руководства вы научитесь настраивать среду для генерации изображений с помощью ComfyUI, загружать модели с платформы Hugging Face и создавать изображения на основе текстовых промптов.\nВы будете использовать следующие сервисы:\n- Notebooks — сервис для запуска сред ML и работы DS-специалистов в ноутбуках на платформе Evolution.\n- Object Storage — объектное S3-хранилище с бесплатным хранением файлов, объемом до 15 ГБ.\n- Hugging Face — платформа с открытым исходным кодом и сообщество разработчиков, ориентированное на машинное обучение, обработку естественного языка (NLP) и другие области искусственного интеллекта.\n- ComfyUI — визуальная среда для создания и запуска процессов генерации контента на основе моделей диффузии.\nШаги:\n1. Подготовьте среду.\n2. Загрузите модель из Hugging Face.\n3. Сгенерируйте изображение.\n\n## Перед началом работы\n1. Зарегистрируйтесь в личном кабинете Cloud.ru.\nЕсли вы уже зарегистрированы, войдите под своей учетной записью.\n2. На верхней панели слева нажмите  и убедитесь в том, что сервис Notebooks в разделе AI Factory подключен.\nЕсли сервис Notebooks не подключен, оставьте заявку на подключение.\n\n## 1. Подготовьте среду\n1. Для хранения модели создайте бакет в Object Storage, если не сделали этого ранее.\n2. Создайте ноутбук со следующими параметрами:\n\n- Конфигурация — GPU.\n- Образ — Cloud.ru Jupyter ComfyUI.\n- Том — укажите бакет для хранения модели.\n\n## 2. Загрузите модель из Hugging Face\n1. Откройте созданный ноутбук.\n2. Выберите тип ноутбука Python 3.\n3. Загрузите модель в бакет S3 или напрямую в ноутбук:\nЗагрузка модели в бакет Object Storage Загрузка модели в ноутбук1. Загрузите модель в бакет S3:\n```\n!wget <model-address>-O <buсket-address>\n```\n\nГде:\n- <model-address> — адрес модели в репозитории Hugging Face.\n- <buсket-address> — адрес бакета в Object Storage.\nПример:\n```\n!wget https://huggingface.co/Comfy-Org/stable-diffusion-v1-5-archive/resolve/main/v1-5-pruned-emaonly-fp16.safetensors \\-O /mnt/s3/ntbbckt/comfy_models/v1-5-pruned-emaonly-fp16.safetensors\n```\n2. Создайте символическую ссылку для доступа к модели из ComfyUI:\n```\n!ln -s /mnt/s3/ntbbckt/comfy_models/v1-5-pruned-emaonly-fp16.safetensors \\/comfyui/models/checkpoints/v1-5-pruned-emaonly-fp16.safetensors\n```\n\n## 3. Сгенерируйте изображение в ComfyUI\n1. Перейдите в модуль Comfy UI.\n2. В правом верхнем углу откройте шаблоны Рабочий процесс → Посмотреть шаблоны.\n3. Выберите шаблон Генерация изображений.\n\nИнтерфейс ComfyUI состоит из нод, которые соединены между собой в единый рабочий процесс.\nНоды отвечают за разные этапы генерации изображения.\nНапример, промпт для генерации необходимо ввести в поле ноды Кодирование текста CLIP (Запрос).\n4. В поле ноды Кодирование текста CLIP (Запрос) укажите текстовый промпт для генерации изображения.\nПример позитивного промпта:\n```\na highly detailed futuristic humanoid robot3/4 viewstanding in a thoughtful pose while solving a complex problemintricate mechanical partsglowing blue circuitry and transparent alloy panelsexpressive LED eyes reflecting data streamsultra realistic skin like polymer texturesubtle steam and dust particles around the jointssoft cinematic rim lightingdepth of field focusing on the robot’s facebackground: a sprawling megacity of the future with towering neon lit skyscrapersfloating traffic lanesholographic billboardsmisty evening atmosphereneon pink and cyan color palettehyper realisticphotorealisticultra detailed8kaward winning concept arttrending on ArtStation\n```\n\nПример негативного промпта:\n```\nlow resblurryjpeg artifactswatermarktextlogocroppingdeformed handsextra limbsuglypoorly drawnunrealistic anatomyover exposedunderexposedflat lighting\n```\n5. При необходимости скорректируйте параметры в других нодах.\n6. Нажмите Запустить.\nЗапустится процесс генерации изображения.\nЕсли процесс не запустился, обновите страницу и повторите попытку.\nСгенерированное изображение появится в блоке Save Image и будет сохранено в директории /comfyui/output.\n\n## Результат\nВ результате выполнения практической работы вы запустили Notebooks с визуальной средой для запуска генеративных нейронных сетей ComfyUI, подключили объектное хранилище для хранения моделей и сгенерировали первое изображение.\nДалее вы можете эксперементировать с другими моделями, добавлять ноды и усложнять рабочий процесс.\nПодробную информацию о работе с ComfyUI можно узнать в официальной документации.\n\n  [© 2025 Cloud.ru](https://cloud.ru)",
      "debug": {
        "start_page": 1,
        "end_page": 1
      }
    }
  ]
}