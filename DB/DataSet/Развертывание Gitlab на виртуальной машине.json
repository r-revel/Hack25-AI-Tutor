{
  "title": "Развертывание Gitlab на виртуальной машине",
  "chapters": [
    {
      "name": "Развертывание Gitlab на виртуальной машине",
      "content": "Практические руководства Evolution    \n\n # Развертывание Gitlab на виртуальной машине   Эта статья полезна?          \nС помощью этого руководства вы запустите ВМ с Gitlab — систему для управления исходным кодом.\nВы будете использовать следующие сервисы:\n- Виртуальная машина free tier — сервис, в рамках которого предоставляется бесплатная виртуальная машина с готовой конфигурацией.\n- Публичный IP-адрес для доступа к веб-интерфейсу Gitlab.\nШаги:\n1. Разверните инфраструктуру.\n2. Установите и настройте Gitlab.\n3. Авторизуйтесь в Gitlab.\n\n## 1. Разверните инфраструктуру\n1. Зарегистрируйтесь в личном кабинете Cloud.ru.\nЕсли вы уже зарегистрированы, войдите под своей учетной записью.\n2. Сгенерируйте SSH-ключ.\n3. Загрузите публичную часть SSH-ключа в облако Cloud.ru Evolution по инструкции.\n4. Создайте бесплатную виртуальную машину со следующими параметрами:\n1. В поле Название укажите gitlab-vm.\n2. В разделе Образ выберите: Публичные → Ubuntu 24.04.\n3. В поле Название загрузочного диска укажите gitlab-disk.\n4. Включите опцию Подключить публичный IP.\n5. В поле Тип IP-адреса выберите Прямой.\n6. Заполните поле Имя пользователя, например gl-user.\n7. В разделе Метод аутентификации выберите Публичный ключ и Пароль.\n8. Укажите публичный ключ и ваш пароль для создаваемого пользователя.\n9. В поле Имя хоста укажите gitlab-vm.\nУбедитесь, что в личном кабинете на странице сервиса «Виртуальные машины»:\n\n- отображается виртуальная машина gitlab-vm;\n- статус виртуальной машины — Запущена.\n\n## 2. Установите и настройте Gitlab\n1. Подключитесь к виртуальной машине gitlab-vm через серийную консоль или по SSH.\n2. Обновите ОС и ее пакеты:\n```\nsudo apt update -y\n```\n3. Установите зависимости:\n```\nsudo apt install -y ca-certificates curl openssh-server tzdata perl\n```\n4. Скачайте Gitlab из репозитория:\n```\ncurl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/script.deb.sh | sudo bash\n```\n5. Установите компонент Gitlab-ce:\n```\nsudo EXTERNAL_URL=\"http://<vm_ip_address>\" apt install gitlab-ce\n```\n\nГде vm_ip_address — публичный IP-адрес ВМ.\n6. Настройте файрвол:\n```\nsudo ufw allow httpsudo ufw allow httpssudo ufw allow OpenSSHsudo ufw enablesudo ufw status\n```\n\n## 3. Авторизуйтесь в Gitlab\n1. В браузере перейдите на страницу \\http://<VM_ip-address>.\nОткроется окно авторизации:\n\n \n Если поля для авторизации не появились\n\n## Что дальше\nВ этой лабораторной работе вы настроили и запустили собственный инстанс Gitlab.\n\n  [© 2025 Cloud.ru](https://cloud.ru)",
      "debug": {
        "start_page": 1,
        "end_page": 1
      }
    }
  ]
}