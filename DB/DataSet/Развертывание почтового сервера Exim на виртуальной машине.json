{
  "title": "Развертывание почтового сервера Exim на виртуальной машине",
  "chapters": [
    {
      "name": "Развертывание почтового сервера Exim на виртуальной машине",
      "content": "Практические руководства Evolution    \n\n # Развертывание почтового сервера Exim на виртуальной машине   Эта статья полезна?          \nС помощью этого руководства вы запустите собственный почтовый сервер на базе решения Exim.\nВы будете использовать следующие сервисы:\n- Виртуальная машина free tier — сервис, в рамках которого предоставляется бесплатная виртуальная машина с готовой конфигурацией.\n- Публичный IP-адрес для доступа к ВМ из интернета.\nШаги:\n1. Разверните инфраструктуру.\n2. Настройте почтовый сервер.\n\n## 1. Разверните инфраструктуру\n1. Зарегистрируйтесь в личном кабинете Cloud.ru.\nЕсли вы уже зарегистрированы, войдите под своей учетной записью.\n2. Сгенерируйте SSH-ключ.\n3. Загрузите публичную часть SSH-ключа в облако Cloud.ru Evolution по инструкции.\n4. Создайте бесплатную виртуальную машину со следующими параметрами:\n1. В поле Название укажите mail-vm.\n2. В разделе Образ → Публичные выберите: Ubuntu 22.04.\n3. В поле Название загрузочного диска укажите mail-disk.\n4. Включите опцию Подключить публичный IP.\n5. В поле Тип IP-адреса выберите Прямой.\n6. Заполните поле Имя пользователя, например mail-user.\n7. В разделе Метод аутентификации выберите Публичный ключ и Пароль.\n8. Укажите публичный ключ и ваш пароль для создаваемого пользователя.\n9. В поле Имя хоста укажите mail-vm.\nУбедитесь, что в личном кабинете на странице сервиса «Виртуальные машины»:\n\n- отображается виртуальная машина mail-vm;\n- статус виртуальной машины — «Запущена».\n\n## 2. Настройте почтовый сервер\n1. Подключитесь к виртуальной машине mail-vm по SSH.\n2. Обновите ОС и ее пакеты:\n```\nsudo apt update -y\n```\n3. Установите Exim:\n```\nsudo apt install exim4 -y\n```\n4. Перейдите к настройке Exim:\n```\nsudo dpkg-reconfigure exim4-config\n```\n5. В открывшемся окне выберите режим работы local delivery only; not on a network.\nОстальные параметры оставьте без изменений.\n6. Отправьте тестовое письмо:\n```\necho \"Hello world\" | mail -s \"First letter\" <user_name>@localhost\n```\n\nГде <user_name> — имя пользователя ВМ.\n7. Проверьте отправку письма:\n```\nmail\n```\n\nРезультат:\n```\nMail version 8.1.2 01/15/2001.  Type ? for help.\"/var/mail/<user_name>\": 1 message 1 new>N  1 <user_name>@<vm_name>  Fri Aug 29 15:46   20/580   smekta&Message 1:From <user_name>@<vm_name> Fri Aug 29 15:46:00 2025Envelope-to: mail-user@localhostDelivery-date: Fri, 29 Aug 2025 15:46:00 +0300To: <user_name>@localhostSubject: First letterMIME-Version: 1.0Content-Type: text/plain; charset=\"UTF-8\"Content-Transfer-Encoding: 8bitFrom: <user_name>@<vm_name>Date: Fri, 29 Aug 2025 15:46:00 +0300\nHello world\n```\n\nЧтобы закрыть письмо, введите exit и нажмите Enter.\n\n## Результат\nВы настроили и запустили собственный почтовый сервер на базе Exim.\n\n  [© 2025 Cloud.ru](https://cloud.ru)",
      "debug": {
        "start_page": 1,
        "end_page": 1
      }
    }
  ]
}