{
  "title": "Генерация видео с моделью Kandinsky 5.0 Video Lite в ComfyUI на основе Notebooks",
  "chapters": [
    {
      "name": "Генерация видео с моделью Kandinsky 5.0 Video Lite в ComfyUI на основе Notebooks",
      "content": "Практические руководства Evolution    \n\n # Генерация видео с моделью Kandinsky 5.0 Video Lite в ComfyUI на основе Notebooks   Эта статья полезна?          \nС помощью этого руководства вы настроите среду для генерации видео в ComfyUI с использованием модели Kandinsky 5.0 Video Lite в сервисе Notebooks.\nВ результате вы получите практический опыт работы с визуальной средой ComfyUI, управлением моделями и генерацией видео в облаке Cloud.ru Evolution.\nВы будете использовать следующие сервисы:\n- Notebooks — сервис для запуска сред ML и работы DS-специалистов в ноутбуках на платформе Evolution.\n- Object Storage — объектное S3-хранилище с бесплатным хранением файлов, объемом до 15 ГБ.\n- Hugging Face — платформа с открытым исходным кодом и сообщество разработчиков, ориентированное на машинное обучение, обработку естественного языка (NLP) и другие области искусственного интеллекта.\n- ComfyUI — визуальная среда для создания и запуска процессов генерации контента на основе моделей диффузии.\nШаги:\n1. Подготовьте среду.\n2. Загрузите модели Kandinsky 5.0 Video Lite.\n3. Сгенерируйте видео с моделью Kandinsky 5.0 Video Lite в ComfyUI.\n\n## Перед началом работы\n1. Зарегистрируйтесь в личном кабинете Cloud.ru.\nЕсли вы уже зарегистрированы, войдите под своей учетной записью.\n2. На верхней панели слева нажмите  и убедитесь в том, что сервис Notebooks в разделе AI Factory подключен.\nЕсли сервис Notebooks не подключен, оставьте заявку на подключение.\n3. Убедитесь, что для сервиса Notebooks установлена квота на GPU.\nДля расширения квоты обратитесь в техническую поддержку.\n\n## 1. Подготовьте среду\nНа этом шаге вы создадите бакет для хранения моделей и ноутбук с GPU и предустановленным ComfyUI.\nЭто обеспечит стабильную и производительную среду для генерации видео.\n1. Для хранения модели создайте бакет в Object Storage.\n2. Создайте ноутбук со следующими параметрами:\n\n- Конфигурация — GPU.\n- Образ — Cloud.ru Jupyter ComfyUI Kandinsky 5 Video Lite.\n- Хранилища — укажите бакет, созданный ранее.\n\n## 2. Загрузите модели Kandinsky 5.0 Video Lite\nНа этом шаге вы загрузите компоненты модели Kandinsky 5.0 Video Lite в выбранное хранилище — либо в бакет Object Storage, либо локально в ноутбук.\nИспользование бакета позволяет сохранять модели между перезапусками ноутбука.\n1. Откройте созданный ноутбук.\n2. Запустите терминал.\n3. Загрузите модель в бакет S3 или напрямую в ноутбук:\nЗагрузка модели в бакет Object Storage Загрузка модели в ноутбук Выполните скрипт в терминале, предварительно указав название вашего бакета в <bucket_name>:\n```\n# Activate the base environmentconda activate base\n# Set the path to the bucket, e.g. /mnt/s3/<BUCKET_NAME>/kandinsky/weightsexport K5_WEIGHTS_DIR=\"/mnt/s3/<bucket_name>/kandinsky/weights\" COMFY_MODELS_DIR=\"/comfyui/models/diffusion_models/\"\n# Create directory and change into itmkdir -p $K5_WEIGHTS_DIR && cd $K5_WEIGHTS_DIR\n# Download modelspython3 /comfyui/custom_nodes/kandinsky/download_models.py\n# Create symbolic links for text_encoder (Qwen/Qwen2.5-VL-7B-Instruct)for file in model-0000{1..5}-of-00005.safetensors; do \\    ln -fs \"${K5_WEIGHTS_DIR}/text_encoder/${file}\" \"/comfyui/models/text_encoders/text_encoder/\"; \\done\n# Create symbolic links for text_encoder2 (openai/clip-vit-large-patch14)for file in {\"tf_model.h5\",\"pytorch_model.bin\",\"model.safetensors\",\"flax_model.msgpack\"}; \\do \\    ln -fs \"${K5_WEIGHTS_DIR}/text_encoder2/${file}\" \"/comfyui/models/text_encoders/text_encoder2/\"; \\done\n# Create symbolic link for VAE (hunyuanvideo-community/HunyuanVideo)ln -fs \"${K5_WEIGHTS_DIR}/vae/diffusion_pytorch_model.safetensors\" \"/comfyui/models/vae/vae/\"\n# Create symbolic links for Kandinsky5Lite_T2V modelsln -fs \"${K5_WEIGHTS_DIR}/model/kandinsky5lite_t2v_distilled16steps_5s.safetensors\" $COMFY_MODELS_DIR && \\ln -fs \"${K5_WEIGHTS_DIR}/model/kandinsky5lite_t2v_sft_5s.safetensors\" $COMFY_MODELS_DIR\n```\n\n## 3. Сгенерируйте видео с моделью Kandinsky 5.0 Video Lite в ComfyUI\nНа этом шаге вы запустите рабочий процесс генерации видео в ComfyUI, используя загруженные модели.\nВы сможете настроить промпты, запустить генерацию и получить результат.\n1. В интерфейсе ноутбука перейдите в модуль Comfy UI.\n2. В левом верхнем углу нажмите Рабочий процесс → Посмотреть шаблоны.\n3. Выберите один из доступных шаблонов:\n- Kandinsky 5.0 T2V Lite SFT 5s — обеспечивает лучшее качество.\n- Kandinsky 5.0 T2V Lite distill 5s — работает в 6 раз быстрее с минимальной потерей качества.\n\nИнтерфейс ComfyUI состоит из нод, которые соединены между собой в единый рабочий процесс.\nНоды отвечают за разные этапы генерации изображений и видео.\n4. В поле ноды expand_prompt введите на русском или английском языке текстовый промпт  — описание сцены, которую хотите сгенерировать.\nЧем детальнее описание, тем точнее результат.\nУкажите объекты, действия, стиль, освещение.\nПример промпта:\n```\nA 1980s Soviet computing lab.Green glow fills the room from massive mainframes.A scientist in a white coat watches a monochrome monitor.In bold, flickering green letters, the words written and pulse at the center of the screen surrounded by blinking status lights and scrolling hex code.Reels spin.\n```\n5. В поле ноды Kandinsky5TextEncode укажите негативный промпт — элементы, которые нужно исключить из генерации.\nПример негативного промпта:\n```\nStatic2D cartooncartoon2d animationpaintingsimagesworst qualitylow qualityuglydeformedwalking backwards\n```\n6. Нажмите Запустить.\nЗапустится процесс генерации видео.\nЕсли процесс не запустился, обновите страницу и повторите попытку.\n7. Дождитесь завершения генерации.\nПримечание Первый запуск может занимать больше времени из-за инициализации GPU и загрузки модели.\nПоследующие запуски будут быстрее.\nЧтобы отслеживать процесс, в консоли отладки нажмите Переключить нижнюю панель.\n\nСгенерированное видео появится в ноде Cохранить анимированный WEBP и в очереди генерации.\n\nОригинал файла будет сохранен в директории /comfyui/output.\nПримечаниеComfyUI поддерживает очередь генерации.\nВы можете добавить несколько промптов подряд для непрерывной обработки.\nПример сгенерированного видео:\n\n## Результат\nВ ходе практической работы вы:\n- настроили среду в сервисе Notebooks;\n- загрузили модель Kandinsky 5.0 Video Lite;\n- освоили работу с ComfyUI;\n- использовали GPU-ускорение;\n- настроили хранение моделей в облаке;\n- сгенерировали видео на основе текстового описания.\nДалее вы можете экспериментировать с другими версиями модели Kandinsky 5.0 Video Lite и менять параметры генерации.\nПодробную информацию о модели Kandisnky 5 можно узнать в официальном репозитории.\n\n  [© 2025 Cloud.ru](https://cloud.ru)",
      "debug": {
        "start_page": 1,
        "end_page": 1
      }
    }
  ]
}