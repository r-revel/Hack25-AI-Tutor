{
  "title": "Подключение Managed ArenadataDB к Managed BI",
  "chapters": [
    {
      "name": "Подключение Managed ArenadataDB к Managed BI",
      "content": "Практические руководства Evolution    \n\n # Подключение Managed ArenadataDB к Managed BI   Эта статья полезна?          \nС помощью этого руководства вы научитесь загружать данные в Managed ArenadataDB через JDBC-клиент DBeaver и визуализировать их в Managed BI.\nВы будете использовать следующие сервисы:\n- Managed ArenadataDB — сервис, который позволяет разворачивать кластеры ArenadataDB и управлять ими без необходимости настраивать и обслуживать инфраструктуру.\n- Managed BI — сервис для визуализации и анализа данных.\nШаги:\n1. Создайте инстанс Managed BI.\n2. Создайте инстанс Managed ArenadataDB.\n3. Получите логин и пароль.\n4. Подключите инстанс Managed ArenadataDB к DBeaver.\n5. Подключите Managed BI к базе данных.\n6. Переходите к визуализации данных.\n\n## Перед началом работы\n1. Создайте публичный SNAT-шлюз в той зоне доступности, в которой собираетесь создавать кластер.\n2. Создайте группу безопасности для инстанса ArenadataDB.\nВ этой группе безопасности создайте разрешающие правила для:\n- входящего трафика в подсети инстанса ArenadataDB;\n- исходящего трафика в подсети инстанса ArenadataDB;\n- ArenadataDB порт 5432;\n- ArenadataDB Control порт 81;\n- Arenadata Cluster Manager порт 8080.\n3. Создайте лог-группу.\nВ этой лог-группе создайте два DNS-сервера:\n- 8.8.8.8\n- 8.8.4.4\n4. Создайте кластер Data Platform, в котором будет размещен инстанс.\n5. Установите JDBC-клиент DBeaver.\n\n## 1. Создайте инстанс Managed BI\n1. Перейдите в раздел Evolution и выберите сервис Managed BI.\n2. Нажмите Создать инстанс.\n3. В поле Кластер выберите созданный ранее кластер.\n4. В поле Вычислительные ресурсы выберите «vCPU 2, RAM 4».\n5. Нажмите Продолжить.\n6. В блоке Сетевые настройки выберите:\n- Подсеть — выберите созданную подсеть с DNS-сервером.\n- Группа безопасности — выберите созданную группу безопасности.\n7. Нажмите Создать.\nСоздание инстанса занимает около 15 минут.\n\n## 2. Создайте инстанс Managed ArenadataDB\n1. Перейдите в раздел Evolution и выберите сервис Managed ArenadataDB.\n2. В блоке Общие параметры заполните поля:\n- Название — adb-lab.\n- Тип лицензии — Test.\n- Версия ArenadataDB — 6.25.1.49.\n- Объем хранения данных, ТБ — 3 ТБ.\n3. Нажмите Продолжить.\n4. В блоке Сетевые настройки выберите:\n- VPC — виртуальную сеть.\n- Зона доступности — зону доступности.\n- sNAT-шлюз — созданный шлюз.\n- Подсеть — подсеть c созданными DNS-серверами.\n- Группа безопасности — созданную группу безопасности с разрешающими правилами.\n- Подключить публичный хост — активируйте опцию.\n5. Нажмите Продолжить.\n6. В блоке Логирование выберите:\n- Лог-группа — группу логов с созданными ранее DNS-серверами.\n- Сервисный аккаунт — сервисный аккаунт.\n7. Нажмите Создать.\nИнстанс Managed ArenadataDB отобразится на странице сервиса.\nСоздание может занять от 40 минут в зависимости от выбранной конфигурации.\n\n## 3. Получите логин и пароль\nКогда статус инстанса Managed ArenadataDB изменится на «Готов»:\n1. Откройте карточку инстанса Managed ArenadataDB.\n2. На вкладке Доступы в блоке Доступ к ADB нажмите Получить логин и пароль.\n3. Cохраните логин и пароль.\nВнимание Логин и пароль отображаются один раз.В целях безопасности рекомендуем изменить пароль.\nСделать это можно в интерфейсе ADCM.\n4. Нажмите Принято.\nЛогин и пароль понадобятся для настройки дальнейших подключений.\n\n## 4. Подключите инстанс Managed ArenadataDB к DBeaver\n1. В списке инстансов Managed ArenadataDB откройте карточку созданного ранее инстанса.\nПерейдите на вкладку Доступы.\nИнформация из нее понадобится для подключения к DBeaver.\n2. Запустите DBeaver.\n3. В панели сверху нажмите База данных → Новое соединение.\n4. В списке соединений выберите PostgreSQL или Greenplum.\n5. На вкладке Главное введите:\n- Хост — публичный хост из карточки инстанса Managed ArenadataDB;\n- База данных — adb;\n- Пользователь — сохраненный ранее логин;\n- Пароль — сохраненный ранее пароль.\n6. Нажмите Готово. На левой панели в списке баз данных появится база adb.\n7. Откройте Базы данных → adb → Схемы → public → Таблицы.\n8. Нажмите на название таблицы в этой папке, чтобы убедиться, что данные из нее отображаются.\n\n## 5. Подключите инстанс Managed BI к базе данных\n1. Откройте сервис Managed BI в новой вкладке браузера.\n2. Убедитесь, что статус созданного ранее инстанса Managed BI изменился на «Готов».\n3. На карточке инстанса нажмите Перейти в интерфейс BI.\n4. Откройте Настройки → Подключения.\n5. Нажмите  База данных и выберите PostgreSQL.\n6. Введите данные:\n- Хост — внутренний IP из карточки инстанса Managed ArenadataDB;\n- Порт — номер порта из карточки инстанса Managed ArenadataDB;\n- Имя базы данных — adb;\n- Имя пользователя — сохраненный ранее логин;\n- Пароль — сохраненный ранее пароль;\n- Отображаемое имя — укажите имя для базы данных.\n7. Нажмите Подключить.\n\n## 6. Переходите к визуализации данных\nНа этом шаге вы подключите датасет и создадите график, используя инструменты сервиса Managed BI.\n1. Перейдите в раздел Датасеты.\n2. Cправа сверху нажмите Датасет.\n3. Введите данные:\n- База данных — выберите подключенную базу данных;\n- Схема — выберите public;\n- Таблица — выберите таблицу из списка, например, ad_table.\n4. Нажмите Создать датасет и диаграмму.\n5. Выберите тип графика — Таблица.\n6. Нажмите Создать новый график.\n7. Перетащите в поле Измерения идентификаторы нужных столбцов, например Maker, Adv_year, Color, Bodytype, Runned_Miles, Engin_size.\n8. Проверьте получившуюся таблицу в поле предпросмотра и нажмите Сохранить.\n9. Укажите имя графика и нажмите Сохранить.\n10. Перейдите в раздел SQL → SQL Lab.\n11. Введите данные:\n- База данных — выберите подключенную базу данных;\n- Схема — выберите public;\n- Таблица — выберите несколько таблиц из списка, например, ad_table, price_table, sales_table.\n12. Нажмите Выполнить.\n13. Нажмите Сохранить, укажите имя запроса и сохраните его.\n14. Нажмите Создать график.\n15. Выберите тип графика, например, Столбчатая диаграмма.\n16. Перетащите идентификатор столбца Fuel_type в поле Ось Х.\n17. Нажмите на название идентификатора в поле Ось Х и выберите вкладку Через SQL.\n18. Укажите в поле \"Fuel_type\" и нажмите Сохранить.\n19. Перетащите идентификатор столбца Fuel_type в поле Меры и нажмите на него для редактирования параметров.\n20. На вкладке Столбец в поле Агрегатная функция выберите COUNT.\n21. На вкладке Через SQL проверьте правильность запроса: COUNT(\"Fuel_type\").\nПри необходимости внесите исправления и нажмите Сохранить.\n22. В поле X-axis sort by выберите COUNT(\"Fuel_type\").\n23. Нажмите Обновить график.\n24. Чтобы сохранить график, нажмите Сохранить и задайте имя графика.\n\n## Результат\nВы научились подключаться к базам данных Managed ArenadataDB для загрузки данных с помощью JDBC-клиента DBeaver, подключать Managed ArenadataDB к Managed BI и пользоваться основными инструментами для визуализации данных.\n\n  [© 2025 Cloud.ru](https://cloud.ru)",
      "debug": {
        "start_page": 1,
        "end_page": 1
      }
    }
  ]
}