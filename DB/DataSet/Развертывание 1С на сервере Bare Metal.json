{
  "title": "Развертывание 1С на сервере Bare Metal",
  "chapters": [
    {
      "name": "Развертывание 1С на сервере Bare Metal",
      "content": "Практические руководства Evolution    \n\n # Развертывание 1С на сервере Bare Metal   Эта статья полезна?          \nС помощью этого руководства вы развернете и настроите программу «1С: Предприятие» на сервере Bare Metal с ОС Ubuntu 22.04.\nДля управления базой данных используем СУБД PostgreSQL.\nШаги:\n1. Разверните инфраструктуру.\n2. Установите кластер 1С.\n3. Настройте PostgreSQL.\n4. Запустите и настройте сервер 1С.\n\n## 1. Разверните инфраструктуру\n1. Арендуйте сервер Bare Metal с публичным IP-адресом.\nДля корректной работы 1С выбирайте конфигурации с:\n- количеством CPU от 4;\n- объемом оперативной памяти не менее 16 ГБ;\n- объемом дискового пространства от 150 ГБ.\n2. Подключитесь к серверу по SSH или через виртуальную консоль.\n3. Установите дополнительные пакеты для работы:\n```\nsudo apt updatesudo apt install -y wget curl unzip nano htop\n```\n4. Установите зависимости для работы с 1С:\n```\nsudo apt install -y libstdc++6 libgtk2.0-0 libxslt1.1 libcanberra-gtk-module\n```\n5. Установите PostgreSQL:\n```\nsudo apt install -y postgresql postgresql-contrib\n```\n\nПодробнее об установке PostgeSQL.\n\n## 2. Установите кластер 1С\n1. Скачайте дистрибутив 1С с официального сайта.\n2. Установите дистрибутив:\n```\nsudo dpkg -i 1C_Enterprise_*.debsudo apt --fix-broken install\n```\n3. Проверьте установку:\n```\nrac cluster list\n```\n\nВ результате должны отобразиться параметры кластера 1С.\n\n## 3. Настройте PostgreSQL\n1. Войдите в консоль PostgreSQL:\n```\nsudo -u postgres psql\n```\n2. Создайте базу данных и пользователя для нее:\n```\nCREATE USER <user_name> WITH PASSWORD '<password>';CREATE DATABASE <db_name> OWNER <user_name>;\\q\n```\n\nГде:\n- <user_name> — имя пользователя БД.\n- <password> — пароль пользователя БД.\n- <db_name> — название БД.\n3. Откройте файл с конфигурацией аутентификации пользователей:\n```\nsudo nano /etc/postgresql/<postrgesql_version>/main/pg_hba.conf\n```\n4. Добавьте в конец файла строку:\n```\nhost    all             all             0.0.0.0/0               md5\n```\n5. Перезагрузите PostgreSQL:\n```\nsudo systemctl restart postgresql\n```\n6. Проверьте работу PostgreSQL:\n```\nsudo systemctl status postgresql\n```\n\n## 4. Запустите и настройте сервер 1С\n1. Запустите службу сервера 1С и проверьте его статус:\n```\nsudo systemctl start srv1cv83sudo systemctl enable srv1cv83sudo systemctl status srv1cv83\n```\n2. Получите информацию о кластере:\n```\nrac cluster list\n```\n\nРезультат:\n```\ncluster                  : <1C_cluster_UUID>host                     : baremetal-1cport                     : 1541name                     : \"Локальный кластер\"expiration-timeout       : 60lifetime-limit           : 0max-memory-size          : 0max-memory-time-limit    : 0security-level           : 0\n```\n\nГде <1C_cluster_UUID> — идентификатор кластера 1С.\n3. Создайте информационную базу:\n```\nrac infobase create --cluster=<1C_cluster_UUID> \\   --create-database \\   --name=db1c \\   --descr=BaseForBareMetal \\   --dbms=PostgreSQL \\   --db-server=baremetal-1c \\   --db-name=db1c --locale=ru \\   --db-user=usr1c --db-pwd='password' \\   --license-distribution=allow --scheduled-jobs-deny=on\n```\n4. Проверьте создание информационной базы:\n```\nrac infobase --cluster=<1C_cluster_UUID> summary list\n```\n5. Настройте UFW для ограничения доступа к серверу:\n```\nsudo ufw allow sshsudo ufw allow 1540-1560/tcpsudo ufw enable\n```\n6. Настройте регулярное резервное копирование баз данных:\n```\npg_dump -U usr1c -d db1c > backup.sql\n```\nСервер 1С развернут и готов к работе.\n\n  [© 2025 Cloud.ru](https://cloud.ru)",
      "debug": {
        "start_page": 1,
        "end_page": 1
      }
    }
  ]
}