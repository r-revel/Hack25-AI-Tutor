{
  "title": "Подключение к Managed ArenadataDB через ВМ по локальной сети",
  "chapters": [
    {
      "name": "Подключение к Managed ArenadataDB через ВМ по локальной сети",
      "content": "Практические руководства Evolution    \n\n # Подключение к Managed ArenadataDB через ВМ по локальной сети   Эта статья полезна?          \nС помощью этого руководства вы развернете инстанс Managed ArenadataDB, создадите виртуальную машину (ВМ), подключите ВМ к Managed ArenadataDB.\nВы будете использовать следующие сервисы:\n- Виртуальные машины — сервис, в рамках которого предоставляется виртуальная машина\n- Managed ArenadataDB — сервис для создания инстансов распределенной аналитической СУБД ArenadataDB, основанной на решении Greenplum®.\n\n## Постановка задачи\nНеобходимо подключиться к инстансу Managed ArenadataDB, не публикуя инстанс в интернет, используя Виртуальную машину Evolution и внутреннюю сеть.\n\n## Перед началом работы\n1. Создайте публичный SNAT-шлюз в той зоне доступности, в которой собираетесь создавать кластер.\n2. Создайте группу безопасности для инстанса ArenadataDB.\nВ этой группе безопасности создайте разрешающие правила для:\n- входящего трафика в подсети инстанса ArenadataDB;\n- исходящего трафика в подсети инстанса ArenadataDB;\n- ArenadataDB порт 5432;\n- ArenadataDB Control порт 81;\n- Arenadata Cluster Manager порт 8080.\n3. Создайте лог-группу.\nВ этой лог-группе создайте два DNS-сервера:\n- 8.8.8.8\n- 8.8.4.4\n4. Установите клиент для подключения к базам данных по протоколу JDBC, например DBeaver.\n\n## 1. Создайте инстанс Managed ArenadataDB\n1. Перейдите в раздел Evolution и выберите сервис Managed ArenadataDB.\n2. В блоке Общие параметры заполните поля:\n- Название — adb-lab.\n- Тип лицензии — Test.\n- Объем хранения данных, ТБ — 3 ТБ.\n3. Нажмите Продолжить.\n4. В блоке Сетевые настройки выберите:\n- VPC — виртуальную сеть.\n- Зона доступности — зону доступности.\n- sNAT-шлюз — шлюз.\n- Подсеть — подсеть.\n- Группа безопасности — созданную группу безопасности с разрешающими правилами.\n5. Нажмите Продолжить.\n6. В блоке Логирование выберите:\n- Лог-группа — группу с созданными DNS-серверами.\n- Сервисный аккаунт — сервисный аккаунт.\n7. Нажмите Создать.\nИнстанс Managed ArenadataDB отобразится на странице сервиса.\nСоздание может занять от 40 минут в зависимости от выбранной конфигурации.\n\n## 2. Получите логин и пароль\nКогда статус инстанса изменится на «Готов»:\n1. Откройте карточку инстанса.\n2. На вкладке Доступы в блоке Доступ к ADB нажмите Получить логин и пароль.\n3. Cохраните логин и пароль.\nВнимание Логин и пароль отображаются один раз.В целях безопасности рекомендуем изменить пароль.\nСделать это можно в интерфейсе ADCM.\n4. Нажмите Принято.\nЛогин и пароль понадобятся для подключения к JDBC-клиенту.\n\n## 3. Разверните виртуальную машину\n1. Создайте виртуальную машину по инструкции.\n- В поле Зона доступности выберите зону доступности, в которой располагается инстанс Managed ArenadataDB.\n- В сетевых настройках выберите опцию Подсеть.\nВ этом примере понадобится только внутренний IP.\n- В поле Подсеть выберите подсеть, в которой располагается инстанс Managed ArenadataDB.\n2. Подключитесь к виртуальной машине.\n3. Обновите пакеты на виртуальной машине.\n4. Установите JDBC-клиент DBeaver на виртуальную машину:\n```\nsudo apt install dbeaver-ce\n```\n\n## 4. Подключите Managed ArenadataDB к JDBC-клиенту\nВ следующих шагах используется графический интерфейс виртуальной машины.\nУстановите удаленный рабочий стол и подключитесь к ВМ.\n1. В списке инстансов Managed ArenadataDB откройте карточку инстанса.\nИнформация из нее понадобится для подключения к DBeaver.\n2. Запустите удаленный рабочий стол для доступа к графическому интерфейсу виртуальной машины.\n3. На виртуальной машине запустите DBeaver.\n4. В панели сверху нажмите База данных → Новое соединение.\n5. В списке соединений выберите Greenplum.\n6. Нажмите Далее.\n7. На вкладке Главное введите данные из карточки инстанса:\n- Хост — внутренний IP\n- Порт\n- Пользователь\n- Пароль\n8. Нажмите Готово.\n\n## Результат\nС этим руководством вы создали инстанс Managed ArenadataDB и виртуальную машину, настроили соединение в JDBC-клиенте DBeaver.\n\n## Что дальше\nДалее вы можете настроить бэкапы по расписанию в рамках практического руководства Создание бэкапа по расписанию в ADBC.\n\n  [© 2025 Cloud.ru](https://cloud.ru)",
      "debug": {
        "start_page": 1,
        "end_page": 1
      }
    }
  ]
}