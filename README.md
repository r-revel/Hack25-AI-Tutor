# Команда №1
# Кейс 1. Разработка AI-репетитора по техническим дисциплинам

**Цель:** Создать минимально жизнеспособный продукт (MVP) AI-репетитора, который помогает студентам учиться, предоставляя точные, контекстуальные ответы на основе учебных материалов, генерирует вопросы для самопроверки и рекомендует дополнительные ресурсы.

**Вдохновение:** Функциональность и ценности платформы [Evahelp.ai](https://evahelp.ai/), такие как:
*   Снижение нагрузки на преподавателей (учитель может сосредоточиться на сложных вопросах).
*   Круглосуточная мгновенная помощь студентам.
*   Персонализация (ответы на основе конкретных материалов курса).
*   Аналитика (выявление слабых мест в понимании).

### **1. Основные требования и функционал**

**Ядро системы (RAG Pipeline):**
1.  **Загрузка и обработка данных:** Поддержка форматов учебных материалов (PDF, DOCX, TXT, HTML, Markdown). Разбиение текста на чанки (с перекрытием) с учетом семантической целостности (например, по разделам, параграфам).
2.  **Векторизация и индексирование:** Создание эмбеддингов для каждого чанка с использованием моделей (например, `sentence-transformers/all-MiniLM-L6-v2`). Сохранение индекса в векторной БД (Chroma, Qdrant, Pinecone для облачного развертывания).
3.  **Поиск и извлечение (Retrieval):** При запросе пользователя — семантический поиск по векторной БД с извлечением Top-K наиболее релевантных чанков. Возможность использования гибридного поиска (семантический + ключевые слова) для повышения точности.
4.  **Генерация ответа (Generation):** Формирование промпта для LLM Llama 3, который включает: **системную инструкцию (роль репетитора)**, **извлеченные релевантные контексты**, **вопрос пользователя**, **строгие правила ответа**. LLM генерирует развернутый, педагогичный ответ.

**Ключевые функции для пользователя (Студент):**
*   **Чат-интерфейс:** Основной способ взаимодействия. Студент задает вопросы по предмету.
*   **Объяснение с источниками:** Каждый ответ AI-репетитора должен содержать явные ссылки на источники (название учебника, глава, страница — если эта информация есть в чанке) и пояснять, на основе какого материала построен ответ.
*   **Генерация вопросов для самопроверки:** Кнопка или команда (напр., "Сгенерируй мне вопросы по этой теме"), по которой система создает 3-5 тестовых вопросов разного типа (с выбором ответа, открытые) на основе пройденного материала.
*   **Рекомендация ресурсов:** В конце ответа или по запросу AI-репетитор может рекомендовать конкретные разделы учебников, статьи или видео для углубленного изучения темы (на основе метаданных в индексе).

**Функции для администратора (Преподаватель/Разработчик):**
*   **Загрузка новых материалов:** Веб-интерфейс или API-эндпоинт для добавления новых учебных материалов в систему без остановки.
*   **Просмотр логов:** Инструмент для просмотра истории запросов и ответов (анонимизированно) для анализа типичных трудностей студентов и улучшения материалов.
*   **Базовая аналитика:** Графики по популярным темам/запросам, оценка удовлетворенности (на основе анализа диалогов).


### **2. Технический стек и архитектура**

*   **Бэкенд (Python):**
    *   **Фреймворки:** LangChain / LlamaIndex для orchestration RAG-пайплайна.
    *   **Векторная БД:** Chroma для MVP.
    *   **LLM API:** Локальная через Ollama (Llama 3, Mistral).
    *   **Фреймворк веб-приложения:** FastAPI (для создания API) + Uvicorn (сервер).
    *   **Обработка документов:** `pypdf`, `python-docx`, `beautifulsoup4`.
    *   **Эмбеддинги:** `sentence-transformers` от Hugging Face.
*   **Фронтенд (на выбор):**
    *   **Вариант 1:** Blazor (C#/.NET)
    *   **Вариант 2:** Telegram-бот (библиотека `python-telegram-bot` или `aiogram`).
*   **Хранилище:**
    *   Векторная БД для индекса.
    *   SQLite / PostgreSQL для хранения логов, метаданных сессий, загруженных источников.
*   **Контейнеризация:** Docker + Docker Compose для простого развертывания всех компонентов.

### **3. UI/UX концепт**

**Веб-интерфейс (Blazor):**
1.  **Левая панель:** Список загруженных учебных материалов (документов).
2.  **Центральная панель:**
    *   История диалога (пузырьки сообщений: пользователь слева, AI-репетитор справа).
    *   В каждом ответе AI: кнопка "Показать источники", при нажатии появляется список документов-оснований.
    *   Внизу: текстовое поле для ввода вопроса + кнопки "Отправить", "Очистить историю", "Сгенерировать вопросы по теме".
3.  **Правая панель:**
    *   Кнопка "Случайный вопрос для проверки".
    *   Список рекомендованных ресурсов по текущей теме диалога.

### **4. Этические и технические требования**

*   **Фильтрация контента:**
    *   Проверка входящих запросов пользователя на нецензурную лексику (библиотеки `better-profanity`, `alt-profanity-check`).
    *   Системный промпт должен запрещать генерацию вредоносного, предвзятого или неэтичного контента.
*   **Защита данных:**
    *   Не хранить персональные данные студентов (имя, email) в логах без необходимости.
    *   Использовать HTTPS.
    *   Для продакшена — аутентификация и разграничение доступа к данным разных курсов.
*   **Масштабируемость:**
    *   Архитектура микросервисов: отдельный сервис для индексирования, отдельный для Q&A.
    *   Кэширование частых запросов.
*   **Логирование и мониторинг:**
    *   Логировать все запросы и ответы (без конфиденциальных данных) в JSON-формате для последующего анализа.

**Инструкция по запуску:**
```markdown
# AI Репетитор на RAG

1.  Клонировать репозиторий: `git clone ...`
2.  Установить зависимости: `pip install -r requirements.txt`
3.  Запустить Ollama и скачать модель: `ollama pull llama3`
4.  Поместить учебные материалы (PDF) в папку `data/`
5.  Запустить скрипт индексирования: `python ingest.py`
6.  Запустить бэкенд: `uvicorn app.main:app --reload`
7.  Запустить фронтенд (Blazor): `dotnet run --urls=http://localhost:5100`
8.  Открыть браузер по адресу `http://localhost:5100`
```

## Команда проекта

### Над проектом работали:

- **Колесников Владислав Вячеславович**
- **Сырников Артем Сергеевич**
- **Камерзан Игорь Николаевич**
- **Люльчак Евгений Сергеевич**
- **Ревель Руслан Сергеевич**

#### Роли и Ответственности

*   **Колесников Владислав Вячеславович** — DevOps: настройка и развертывание инфраструктуры.
*   **Сырников Артем Сергеевич** — ML-инженер: разработка и интеграция RAG-алгоритма.
*   **Камерзан Игорь Николаевич** — Frontend: создание пользовательского интерфейса.
*   **Люльчак Евгений Сергеевич** — Data Engineer: сбор и обработка данных.
*   **Ревель Руслан Сергеевич** — TeamLead: управление проектом и разработка бэкенда.
